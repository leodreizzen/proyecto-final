
/* !!! This is code generated by Prisma. Do not edit directly. !!! */
/* eslint-disable */
// biome-ignore-all lint: generated file
// @ts-nocheck 
import * as $runtime from "@prisma/client/runtime/client"

/**
 * @param vector Stringified vector to compare against.
 * @param cursorUUID UUID of the last seen item (for pagination). Can be NULL for the first page.
 * @param similarityThreshold Minimum similarity score (between 0 and 1) for results to be included.
 * @param limit Maximum number of results to return.
 */
export const semanticSearch = $runtime.makeTypedQueryFactory("\n\nWITH \"CursorData\" AS (SELECT (embedding <=> $1::vector) as dist\nFROM \"SearchableContent\"\nWHERE id = $2::uuid)\nSELECT id,\n1 - (embedding <=> $1::vector) as similarity\nFROM \"SearchableContent\"\nWHERE (embedding <=> $1::vector) < (1 - $3::float)\n\nAND (\n$2::uuid IS NULL\nOR\n(\n(embedding <=> $1::vector) > (SELECT dist FROM \"CursorData\")\nOR\n(\nabs((embedding <=> $1::vector) - (SELECT dist FROM \"CursorData\")) < 0.00001\nAND id > $2::uuid\n)\n)\n)\nORDER BY embedding <=> $1::vector ASC, id ASC\nLIMIT $4::int;") as (vector: string, cursorUUID: string | null, similarityThreshold: number, limit: number) => $runtime.TypedSql<semanticSearch.Parameters, semanticSearch.Result>

export namespace semanticSearch {
  export type Parameters = [vector: string, cursorUUID: string | null, similarityThreshold: number, limit: number]
  export type Result = {
    id: string
    similarity: number | null
  }
}
