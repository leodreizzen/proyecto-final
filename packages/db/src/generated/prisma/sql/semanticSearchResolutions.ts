
/* !!! This is code generated by Prisma. Do not edit directly. !!! */
/* eslint-disable */
// biome-ignore-all lint: generated file
// @ts-nocheck 
import * as $runtime from "@prisma/client/runtime/client"

/**
 * @param vector Stringified vector to compare against.
 * @param cursorUUID UUID of the last seen item (for pagination). Can be NULL for the first page.
 * @param similarityThreshold Minimum similarity score (between 0 and 1) for results to be included.
 * @param limit Maximum number of results to return.
 */
export const semanticSearchResolutions = $runtime.makeTypedQueryFactory("\nWITH cursor_ref AS (\nSELECT MIN(embedding <=> $1::vector) as dist\nFROM \"SearchableContent\"\nWHERE \"resolutionID\" = $2::uuid\nAND (embedding <=> $1::vector) < (1 - $3::float)\n),\ngrouped_resolutions AS (\nSELECT\n\"resolutionID\",\nMIN(embedding <=> $1::vector) as dist\nFROM \"SearchableContent\"\nWHERE (embedding <=> $1::vector) < (1 - $3::float)\nGROUP BY \"resolutionID\"\n)\nSELECT\n\"resolutionID\",\n1 - dist as similarity\nFROM grouped_resolutions\nWHERE\n$2::uuid IS NULL\nOR\n(SELECT dist FROM cursor_ref) IS NULL\nOR\n(\ndist > (SELECT dist FROM cursor_ref)\nOR\n(\nabs(dist - (SELECT dist FROM cursor_ref)) < 0.00001\nAND \"resolutionID\" > $2::uuid\n)\n)\nORDER BY\ndist ASC,\n\"resolutionID\" ASC\nLIMIT $4::int;") as (vector: string, cursorUUID: string | null, similarityThreshold: number, limit: number) => $runtime.TypedSql<semanticSearchResolutions.Parameters, semanticSearchResolutions.Result>

export namespace semanticSearchResolutions {
  export type Parameters = [vector: string, cursorUUID: string | null, similarityThreshold: number, limit: number]
  export type Result = {
    resolutionID: string
    similarity: number | null
  }
}
